<img src="https://capsule-render.vercel.app/api?type=waving&color=auto&height=200&section=header&text=ë°”ë‹ˆë°”ë‹ˆ ë‹¹ê·¼ ë§ˆì¼“ í´ë¡ ì½”ë”© í”„ë¡œì íŠ¸&fontSize=90" />

# ë°”ë‹ˆë°”ë‹ˆ ë‹¹ê·¼ ë§ˆì¼“(Back-End) readME ìˆ˜ì •ì¤‘
> **ë‹¹ê·¼ ë§ˆì¼“ í´ë¡  ì½”ë”© í”„ë¡œì íŠ¸**  
> ë°”ë‹ˆë°”ë‹ˆ ë‹¹ê·¼ë§ˆì¼“. ì¤‘ê³  ê±°ë˜, ì´ì›ƒê³¼ í•¨ê»˜í•´ìš”. ê°€ê¹ê³  ë”°ëœ»í•œ ë‹¹ì‹ ì˜ ê·¼ì²˜ë¥¼ ë§Œë“¤ì–´ìš”.

* [[Notion: í•­í•´ì–¸ë‹ˆ í”„ë¡œì íŠ¸ ì •ë³´]](https://royal-storm-069.notion.site/6-21181e915241465c92495075706dbe3c)
* [[í”„ë¡œì íŠ¸ ì‹œì—°ì˜ìƒ ë³´ëŸ¬ê°€ê¸°]](https://youtu.be/gjkK6H2Z5v4)
* [[Front-End Repository]](https://github.com/banibani-banibani-danggeun-danggeun/FE_new)  
  
## ğŸ“† ê°œë°œ ê¸°ê°„  
2022ë…„ 12ì›” 23ì¼ ~ 2022ë…„ 12ì›” 29ì¼   
<p>

  
## ğŸ‘¥ íŒ€ ì†Œê°œ
#### `Frontend`
 <a href="https://github.com/JIEUN24" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=React&message=ìµœì‹ ì˜ &color=61dafb&style=for-the-badge&>"/></a>
 <a href="https://github.com/GYMMX" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=React&message=ê¹€ì„¸ì—° &color=61dafb&style=for-the-badge&>"/></a>
 <a href="https://github.com/GYMMX" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=React&message=ê¹€í•˜ì˜ &color=61dafb&style=for-the-badge&>"/></a>

#### `Backend`
<a href="https://github.com/ksanacloud" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=Spring&message=ê¹€ê·œë¯¼ &color=08CE5D&style=for-the-badge&>"/></a>
<a href="https://github.com/EunheaSong" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=Spring&message=ìœ ì¢…ì—´ &color=08CE5D&style=for-the-badge&>"/></a>
<a href="https://github.com/hyun-woong" target="_blank"><img height="40"  src="https://img.shields.io/static/v1?label=Spring&message=ì‹¬í˜„ì›… &color=08CE5D&style=for-the-badge&>"/></a>
  
## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
  
|ì¢…ë¥˜|ê¸°ìˆ |
|:----:|:----:|
|Language|<img src="https://img.shields.io/badge/Java-007396?style=flat-square&logo=java&logoColor=white"/>|
|Build|<img src="https://img.shields.io/badge/Gralde-02303A?style=flat-square&logo=Gradle&logoColor=white"/>|
|FrameWork|<img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=flat-square&logo=springboot&logoColor=white"/>|
|DB|<img src="https://img.shields.io/badge/MySQL-4479A1?style=flat-square&logo=MySQL&logoColor=white"/><br><img src="https://img.shields.io/badge/Amazon RDS-527FFF?style=flat-square&logo=Amazon RDS&logoColor=white"/>|
|Server|<img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=flat-square&logo=Amazon EC2&logoColor=white"/>  

## ğŸ“Œ API ëª…ì„¸ì„œ (ë…¸ì…˜ í˜ì´ì§€ì—ì„œ ì„ ëª…í•˜ê²Œ ì¡°íšŒ ê°€ëŠ¥)
<img width="800" alt="api1" src="https://blog.kakaocdn.net/dn/bYcpJq/btrUViSu5V3/RLAlJCsvfkKqYZk5izKQL0/img.png">  
<img width="800" alt="api2" src="https://blog.kakaocdn.net/dn/bQMZMc/btrUV4NhRnu/bVkcjh31Tv5V0VHYe8RXx1/img.png">  
<img width="800" alt="api3" src="https://blog.kakaocdn.net/dn/EzZHZ/btrUTJbNH97/Ry7iBWzelmvDX3U8rUxmC1/img.png">  
<img width="800" alt="api3" src="https://blog.kakaocdn.net/dn/EifTa/btrUVbFUujz/8KdMujorfyUhy87XI5i3x1/img.png">

## ğŸ“ ì™€ì´ì–´í”„ë ˆì„

![ì™€ì´ì–´í”„ë ˆì„](https://cdn.discordapp.com/attachments/1037267111585792020/1055867403344543754/IMB_XZKGyK.gif)

## ğŸ—º ERD
<img width="800" alt="á„†á…¦á„‹á…µá†«á„‘á…¦á„‹á…µá„Œá…µ2" src="https://blog.kakaocdn.net/dn/bxKbco/btrUWSToS9W/vQC2owz9mExVJ6mb75lXpK/img.png">  

## ğŸ§©ì•„í‚¤í…ì³
<img width="800" alt="á„†á…¦á„‹á…µá†«á„‘á…¦á„‹á…µá„Œá…µ2" src="https://blog.kakaocdn.net/dn/bOCbtg/btrUneCW2D2/BZyYOomTIzYOHSm4bmkEK1/img.png">  

## ğŸ’¡ Trouble Shooting
<details>
<summary>1. ì±„íŒ… CORS ì—ëŸ¬</summary>
<br>
<div markdown="1">
<b>- "Invalid SockJS path '/chat/room' - required to have 3 path segments" ì—ëŸ¬ ë©”ì‹œì§€</b><br/>
<b>- registerStompEndpoints ë©”ì†Œë“œì—ì„œ endpoint ì„¤ì •, CORS ì •ì±…ì„ ìœ„í•œ ì¶œì € í—ˆìš©, SockJS ì„¤ì •</b><br/>
<b>- í”„ë¡ íŠ¸ì—ì„œ APIì— ë”°ë¼ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ CORS ë¬¸ì œ, urlì— endpointë¥¼ ì¶”ê°€í•˜ì—¬ ìš”ì²­í•˜ë©´ 404ì—ëŸ¬</b><br/>
<b>- íŠ¹ì • ì±„íŒ…ë°© ì¡°íšŒëŠ” 404, ì „ì²´ ë°©ì¡°íšŒëŠ” CORS</b><br/>
<b>- ì›ì¸ responseì— access-control-allow-originì‘ë‹µì´ ì—†ì—ˆìŒ</b><br/>
<b>- spring securityë¥¼ ì´ìš©í•´ í•´ê²°</b><br/>
</div>
</details>

<details>
<summary> 2. ì±„íŒ…ë°© êµ¬ë…ì„ ìœ„í•´ connect ìš”ì²­ ì‹œ 404 ì—ëŸ¬ ë°œìƒ ë¬¸ì œ</summary>
<br>
<div markdown="2">

<b>ì›ì¸: ì±„íŒ…ë°© êµ¬ë…ì„ ìœ„í•´ stomp ë©”ì†Œë“œì¸ connectì™€ subscribeë¥¼ í•´ì•¼í•˜ëŠ”ë° connectê°€ ì™„ë£Œì£„ì§€ ì•ŠëŠ” ë¬¸ì œ</b><br/>
logë¥¼ í™œìš©í•´ ë¬¸ì œê°€ ë˜ëŠ” ë©”ì†Œë“œ ì§€ì (connect) í™•ì¸<br/>
connect ì‹¤í–‰ ì‹œ endpointë¡œ ìˆ˜ì°¨ë¡€ ìš”ì²­ì´ ê°€ëŠ”ë° í•´ë‹¹ URLì´ ì˜ëª»ë˜ì–´ 404ì—ëŸ¬ í™•ì¸<br/>
ìš”ì²­ URLì„ ìˆ˜ì •í•˜ì—¬ connect ì‹¤í–‰ í™•ì¸<br/>

</div>
</details>

<details>
<summary>3. í¬ìŠ¤íŠ¸ì—ì„œ ì˜ˆì™¸ì²˜ë¦¬ê°€ ë¶€ì¡±í•˜ì—¬ ì–´ë–¤ ì—ëŸ¬ê°€ ë‚˜ëŠ”ì§€ í™•ì¸ì´ ë¶ˆê°€ëŠ¥í–ˆë˜ ë¬¸ì œ</summary>
<br>
<div markdown="3">
<b>requestbodyì—ì„œ ê°’ì´ ë“¤ì–´ì˜¤ì§€ ì•Šì•˜ì„ë•Œì˜ ì˜ˆì™¸ ì²˜ë¦¬ê°€ ë¶€ì¡±í•˜ì—¬ PostDtoì— @NotBalnkë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°</b>  
	
<b>ìˆ˜ì • ì „ ì½”ë“œ</b>  
	
  ```java
  @Getter
  public class PostRequestDto {
    private String title;
    private String category;
    private String imageBefore;
    private String imageAfter;
    private String content;
    private int price;
    private String hospitalAddress;
    private String doctor;
  }
  ```
  
  <b>ìˆ˜ì • í›„ ì½”ë“œ</b>  
   ```java
  public class PostDto {

	public record RequestDto(@NotBlank(message = "ì œëª©ì´ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") String title,
							 @NotBlank(message = "ì¹´í…Œê³ ë¦¬ê°€ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") String category,
							 @NotBlank(message = "ì„±í˜• ì „ ì´ë¯¸ì§€ê°€ í•„ìš”í•©ë‹ˆë‹¤.") String imageBefore,
							 @NotBlank(message = "ì„±í˜• í›„ ì´ë¯¸ì§€ê°€ í•„ìš”í•©ë‹ˆë‹¤.") String imageAfter,
							 @NotBlank(message = "ë³¸ë¬¸ ë‚´ìš©ì´ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") String content,
							 @NotNull(message = "ê¸ˆì•¡ì´ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") Integer price,
							 @NotBlank(message = "ë³‘ì› ì£¼ì†Œê°€ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") String hospitalAddress,
							 @NotBlank(message = "ì˜ì‚¬ ì •ë³´ê°€ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.") String doctor) {
	  }
  }
  ```

</div>
</details>

<details>
<summary>4. Jwt Util í´ë˜ìŠ¤ ê´€ë ¨ ì—ëŸ¬ê°€ ë°œìƒí•œ ë¬¸ì œ</summary>
<br>
<div markdown="4">
<b> application propertiesì™€ jwt Util í´ë˜ìŠ¤ì— jwt secret keyë¥¼ ê°™ì€ ì´ë¦„ìœ¼ë¡œ ë§¤ì¹˜ì‹œì¼œì£¼ì§€ ëª»í•´ ë°œìƒí•œ ì—ëŸ¬ì˜€ë‹¤. </b> 
<br>
<b> ì •ë§ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆì—ˆë˜ ê±°ì§€ë§Œ ì™œ ì—ëŸ¬ê°€ ë‚˜ëŠ”ì§€ ê°ì´ ì•ˆì¡í˜€ì„œ ìƒê°ë³´ë‹¤ ì˜¤ëœ ì‹œê°„ì„ ì†Œë¹„í–ˆë˜ ë¬¸ì œì˜€ì—ˆë‹¤.</b>
<br>
<br>

```java
  public JwtUtil(@Value("${jwt.secret}") String secretKey) {
  
}
```

```java
  jwt.secret.key=7ZWt7ZW0OTntmZTsnbTtjIXtl.....=
}
```
<br>
<b>ìœ„ì™€ ì•„ë˜ì˜ jwt secret ë¶€ë¶„ì„, í•œ ê³³ì—” keyë¥¼ ë¶™ì—¬ë†¨ì—ˆê³  í•œ ê³³ì—” ë¹¼ë†”ì„œ ë°œìƒí–ˆë˜ ë¬¸ì œë¼ í†µì¼í•´ì£¼ê³  ì˜¤ë¥˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.</b>

</div>
</details>
